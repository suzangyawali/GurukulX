@tailwind base;
@tailwind components;
@tailwind utilities;

/* Eliminate white flash during fast scrolling */
html {
   background-color: #1f2937 !important; /* Dark gray background for full page */
   overflow-x: hidden; /* Hide horizontal scroll bar on html */
   scrollbar-width: none; /* For Firefox */
   min-height: 100vh;
   height: 100%;
}

body{
   position: relative;
   max-width: 1440px;
   margin: auto;
   background-color: #1f2937 !important; /* Dark gray background */
   min-height: 100vh;
   overflow-x: hidden; /* Hide horizontal scroll bar */
   -ms-overflow-style: none; /* For IE and Edge */
   height: 100%;
}

/* Apply background to root element to prevent white flash */
#root {
   background-color: #1f2937 !important;
   min-height: 100vh;
   width: 100%;
}

/* Prevent elastic scrolling bounce effect that causes white flash */
html, body {
   overscroll-behavior: none;
   -webkit-overflow-scrolling: touch;
}

/* Ensure all main containers have background */
.min-h-screen, .min-h-full, [class*="min-h-"] {
   background-color: #1f2937;
}

/* Hide scroll bars globally while keeping scroll functionality */
::-webkit-scrollbar {
   width: 0px;
   background: transparent;
}

/* Custom scrollbar for lecture list */
.custom-scrollbar::-webkit-scrollbar {
   width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
   background: rgba(71, 85, 105, 0.3);
   border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
   background: linear-gradient(to bottom, #facc15, #f97316);
   border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
   background: linear-gradient(to bottom, #eab308, #ea580c);
}

/* Responsive video utilities */
.video-responsive {
   position: relative;
   width: 100%;
   padding-bottom: 56.25%; /* 16:9 aspect ratio */
   height: 0;
   overflow: hidden;
}

.video-responsive video,
.video-responsive iframe {
   position: absolute;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   border: 0;
}

/* Ensure videos scale properly on all devices */
video {
   max-width: 100%;
   height: auto;
   display: block;
}

/* Mobile video optimizations */
@media screen and (max-width: 768px) {
   video {
      width: 100% !important;
      height: auto !important;
      object-fit: contain;
   }
   
   .video-responsive {
      padding-bottom: 60%; /* Slightly taller on mobile for better visibility */
   }
}

/* iOS Safari video fix */
video::-webkit-media-controls-start-playback-button {
   display: none !important;
   -webkit-appearance: none;
}

/* Line clamp utilities for text truncation */
.line-clamp-2 {
   display: -webkit-box;
   -webkit-line-clamp: 2;
   line-clamp: 2;
   -webkit-box-orient: vertical;
   overflow: hidden;
}

.line-clamp-3 {
   display: -webkit-box;
   -webkit-line-clamp: 3;
   line-clamp: 3;
   -webkit-box-orient: vertical;
   overflow: hidden;
}

.line-clamp-4 {
   display: -webkit-box;
   -webkit-line-clamp: 4;
   line-clamp: 4;
   -webkit-box-orient: vertical;
   overflow: hidden;
}